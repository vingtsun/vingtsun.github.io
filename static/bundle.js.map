{"version":3,"sources":["src/js/application.js","src/js/initialize.js"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAvaA;AAAA;ACAA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAxGA;AAAA","file":"dist/static/bundle.js","sourcesContent":["'use strict';\n\n//const $ = require('jquery');\n//const _ = require('lodash');\n//const _ = require('lodash/core');\n//require('../bootstrap/bootstrap.js');\n//const jqueryBackStretch = require('jquery-backstretch');\n\nvar App = function ($, window, document) {\n  var options = {\n    smoothScrolling: true\n    //adressBarCausesResize: true,\n  };\n  var sections = {\n    list: [],\n    offsets: [] };\n\n  var callbacks = {};\n\n  var init = function init() {\n    //console.log('App.init()');\n    //$('body').append('App initialized.');\n\n    // Determine Options\n    options.mobileBrowser = /Android|iPhone|iPad|iPod|BlackBerry/i.test(navigator.userAgent || navigator.vendor || window.opera);\n\n    options.backgroundSizeBugBrowser = function () {\n      if (options.mobileBrowser) {\n        if (/Firefox|firefox/i.test(navigator.userAgent || navigator.vendor || window.opera)) {\n          return false;\n        }\n        if (/Chrome|chrome/i.test(navigator.userAgent || navigator.vendor || window.opera)) {\n          return true;\n        }\n        return true; // Default for mobileBrowser\n      }\n      return false; // Default\n    }();\n    //alert(\"mobileBrowser: \" + options.mobileBrowser + \", \\nbackgroundSizeBugBrowser: \" + options.backgroundSizeBugBrowser);\n    //options.backgroundSizeBugBrowser = true;\n\n\n    // Initialize App\n    sections.initSectionsInfo();\n\n    //console.log(\"initial app.adjustHeight\");\n    adjustHeight();\n\n    $(window).on('orientationchange resize', function () {\n      //console.log(\"orientationchange resize event\");\n      adjustHeight();\n      //sections.initSectionsInfo(); // because image paths might have changed\n      //sections.updateBackgroundImages();\n      //console.log(\"sections.backgroundImages[1].url: \", sections.backgroundImages[1].url);\n    });\n\n    if (options.mobileBrowser) {\n    }\n\n    if (options.backgroundSizeBugBrowser) {\n      //alert(navigator.userAgent);\n      initBackgroundSlideShow();\n      /*\n                                 $(window).on('activate.bs.scrollspy', function (event) {\n                                   console.log(\"activate.bs.scrollspy event\");\n                                   //console.log(\"activate.bs.scrollspy event: \", event);\n                                   //var target = event.target;\n                                   //console.log(\"event.target: \", target);\n                                   //var activeEl = target.document.activeElement;\n                                   //console.log(\"event.target activeEl: \", activeEl);\n                                    var $al = $('nav#nav-main .nav-item .nav-link.active');\n                                   //console.log(\"$al: \", $al);\n                                   //var alid = $al.attr('href').slice(1,0);\n                                    var pidx = $al.parent().index();\n                                   //console.log(\"pidx: \", pidx);\n                                   \n                                   //sections.setBackgroundImage(pidx);\n                                 });\n                                 */\n\n\n    }\n\n    //smooth scrolling\n    if (options.smoothScrolling) {\n      $('a[href*=\"#\"]:not([href=\"#\"])').click(function () {\n        //console.log(\"smooth scroll link clicked: \", this);\n\n        if (location.pathname.replace(/^\\//, '') == this.pathname.replace(/^\\//, '') && location.hostname == this.hostname) {\n          var target = $(this.hash);\n          target = target.length ? target : $('[name=' + this.hash.slice(1) + ']');\n          //console.log(\"target: \", target);\n          if (target.length) {\n            //const target_padding_top = parseFloat(target.css(\"padding-top\"), 10);\n            var target_container = target.children('.container').first();\n            var scrollTop;\n            var scrollOffset = 0;\n            //var scrollOffset = 24; // 1rem = 16px\n            //var scrollOffset = 30;\n\n            //console.log(\"target_padding/offset_top: \", target_padding_top, target.offset().top);\n\n            if (target_container.length) {\n              var target_container_padding_top = parseFloat(target_container.css(\"padding-top\"), 10);\n              //console.log(\"target_container_padding/offset_top: \", target_container_padding_top, target_container.offset().top);\n\n              //scrollOffset = scrollOffset + target_container_padding_top + target_padding_top / 3;\n              scrollOffset = scrollOffset + target_container_padding_top; //scroll to beggining of container\n\n              scrollTop = target_container.offset().top - scrollOffset;\n              //console.log(\"scrollOffset: \", scrollOffset);\n            } else\n            {\n              scrollTop = target.offset().top - scrollOffset;\n            }\n\n            //console.log(\"scrollTop: \", scrollTop);\n            $('html, body').animate({\n              scrollTop: scrollTop },\n            1000);\n            return false;\n          }\n        }\n      });\n    }\n\n    // Slideshow Home\n    //$(\"#slideshowHome > div.c-item:gt(0)\").hide();\n    var $slideshowHome = $('#slideshowHome');\n    $slideshowHome.children(\"div.c-item:gt(0)\").hide();\n    var slideshowHomeIntervalID = window.setInterval(function () {\n      //let $slideshow = $('#slideshowHome');\n      var $slideshow = $slideshowHome;\n      var $active = $slideshow.find('.c-item.active');\n      var $next = $active.next('.c-item');\n      if (!$next.length) {\n        $next = $slideshow.find('.c-item:first');\n      }\n      $active.\n      fadeOut(2000).\n      removeClass(\"active\");\n      $next.\n      fadeIn(2000).\n      addClass(\"active\");\n    }, 8000);\n\n  };\n\n  var adjustHeight = function adjustHeight() {\n    //console.log(\"adjustHeight\");\n    //var minHeightElements = $('body > section#home');\n    var se = [\n    'body > section'];\n\n    var he = [\n    //'body > .background',\n    '#home'];\n\n\n    var hpe = [\n    'body > .background'];\n\n    var sectionHeightElements = $(se.join(\", \"));\n    var heightElements = $(he.join(\", \"));\n    var heightPlusElements = $(hpe.join(\", \"));\n\n    var addHeight = 80;\n\n    var winInnerH = $(window).innerHeight();\n    var winInnerHplus = winInnerH + addHeight;\n    var winOuterH = $(window).outerHeight();\n    var winOuterHplus = winOuterH + addHeight;\n    //console.log(\"winInnerH, winInnerHplus, winOuterH, winOuterHplus: \", winInnerH, winInnerHplus, winOuterH, winOuterHplus);\n\n    var newHeight = winInnerH;\n    //var newHeight = winInnerHplus;\n    var newHeightPlus = winInnerHplus;\n\n    //var padTop = parseFloat($('body > section:nth-child(2)').css('padding-top'));\n    //var padTop = parseFloat($('body > section:nth-child(2)').css('padding-top'));\n    var padTop = parseFloat($('body > section:not(#home)').css('padding-top'));\n    //console.log('padTop: ', padTop);\n\n    //var newSectionHeight = newHeight + padTop;\n    var newSectionHeight = winInnerH + padTop;\n\n    //var oldHeight = parseFloat(heightElements.css('height'));\n    var oldHeight = parseFloat($('body > .background').css('height'));\n    //console.log(\"adjustHeight -- old/new: \", oldHeight, newHeight, newSectionHeight);\n\n    //let heightDiff = newHeight - oldHeight;\n    var heightDiff = newHeightPlus - oldHeight;\n    //console.log(\"heightDiff: \", heightDiff);\n\n    if (heightDiff > 0 || -heightDiff > addHeight) {\n      sectionHeightElements.css({ 'min-height': newSectionHeight.toString() + \"px\" });\n\n      //heightElements.css({'height': newHeight.toString() + \"px\", 'min-height': newHeight.toString() + \"px\"});\n      //heightElements.css({'height': newHeight.toString() + \"px\", 'min-height': \"0px\"});\n      heightElements.css({ 'height': newHeight.toString() + \"px\", 'min-height': \"\" });\n      //heightElements.css({'height': newHeight.toString() + \"px\", });\n\n      heightPlusElements.css({ 'height': newHeightPlus.toString() + \"px\", 'min-height': \"\" });\n\n      //minHeightElements.css({'min-height': newHeight.toString() + \"px\"});\n\n      sections.updateSectionsInfo();\n      //sections.updateSectionOffsets();\n    }\n    /*** Height HUD ***\n      $('#home').append(\n        '<div id=\"heights\" \\\n            style=\"background: white; color: black; \\\n                position: fixed; top: 12rem; left: 2rem;\\\n                z-index: 1000;\" >' \n        + \"in, in+, out, out+ -- \"\n        + [winInnerH, winInnerHplus, winOuterH, winOuterHplus].join(\", \") \n        + '<br/>'\n        + \"section padding top: \" + padTop\n        + '<br/>'\n        + \".background height: \" + $('.background').outerHeight()\n        + '<br/>'\n        + \"#home height: \" + $('#home').outerHeight()\n        + '<br/>'\n        + \"#seminare height: \" + $('#seminare').outerHeight()\n        + '</div>'\n      );\n      /*\n      */\n  };\n\n  sections.updateSectionOffsets = function () {\n    //console.log(\"updateSectionOffsets\");\n\n    var offs = [];\n    for (var i = 0; i < sections.list.length; i++) {\n      var offset = sections.list[i].$el.offset();\n      sections.list[i].offset = offset;\n      offs.push(offset.top);\n    }\n\n    //console.log(\"offs: \", offs);\n    sections.offsets = offs;\n    return offs;\n  };\n\n  sections.initSectionsInfo = function () {\n    //console.log(\"sections.initSectionsInfo\");\n\n    //var secInfoObject = {};\n    var secInfoArray = [];\n\n    var $sections = $('body > section');\n\n    $sections.each(function (index, el) {\n      var sec = {};\n      var $el = $(el);\n\n      //Fill sec(tion) object\n      sec.el = el;\n      sec.$el = $el;\n      sec.id = $el.attr('id');\n\n      sec.offset = $el.offset();\n\n      sec.bgimg = $el.css('background-image');\n      sec.bgpos = $el.css('background-position');\n\n      secInfoArray.push(sec);\n      //secInfoObject[sec.id] = sec;\n    });\n\n    secInfoArray.sort(function (a, b) {\n      return a.offset.top - b.offset.top;\n      //return b.offset.top - a.offset.top; // reverse sort\n    });\n\n    //console.log(\"secInfoArray: \", secInfoArray);\n    //console.log(\"secInfoObject: \", secInfoObject);\n    //sections.sectionsArray = secInfoArray;\n    //sections.sectionsObjects = secInfoObject;\n\n    //sections.$sections = $sections;\n    sections.list = secInfoArray;\n\n    sections.updateSectionOffsets();\n  };\n\n  var initBackgroundSlideShow = function initBackgroundSlideShow() {\n    //console.log(\"initBackgroundSlideShow\");\n    var $bgel = $('body > .background');\n    sections.$bgel = $bgel;\n\n    sections.updateBackgroundImages();\n\n    $bgel.backstretch(\n    sections.backgroundImages,\n    {\n      //duration: 3000,\n      //'transitionDuration': 'fast',\n      transitionDuration: 'slow' });\n\n    // initialize backstretch slideshow\n    $bgel.backstretch(\"pause\"); // pause backstretch slideshow\n    sections.setBackgroundImage();\n    $('body > section').css('background-size', '0px');\n  };\n\n  sections.updateBackgroundImages = function () {\n    //console.log(\"updateBackgroundImages\");\n    var bgimgs = [];\n\n    for (var i = 0; i < sections.list.length; i++) {\n      var img = {};\n      img.url = sections.list[i].bgimg;\n\n      if (img.url == \"none\") {\n        //console.log(\"No background-image\");\n        // set default image here\n        img.url = \"https://upload.wikimedia.org/wikipedia/commons/2/21/Solid_black.svg\";\n      } else\n      {\n        img.url = img.url.replace(/^url\\([\"']?/, '').replace(/[\"']?\\)$/, '');\n      }\n\n      var alignXY = sections.list[i].bgpos.split(\" \");\n\n      img.alignX = parseFloat(alignXY[0]) / 100;\n      img.alignY = parseFloat(alignXY[1]) / 100;\n\n      bgimgs.push(img);\n    }\n\n    sections.backgroundImages = bgimgs;\n    return bgimgs;\n  };\n\n  sections.updateSectionsInfo = function () {\n    //console.log(\"sections.updateSectionsInfo\");\n    //sections.initSectionsInfo();\n    sections.updateSectionOffsets();\n  };\n\n  sections.getSectionIndexFromScrollTop = function (scrollTop) {\n    var st = scrollTop ? scrollTop : $(document).scrollTop();\n    var index = 0;\n    var offs = sections.offsets;\n    for (var i = 1; i < offs.length; i++) {\n      if (st < offs[i]) {\n        index = i - 1;\n        break;\n      } else\n      {\n        index = i;\n      }\n    }\n    return index;\n  };\n\n  sections.setBackgroundImage = _.debounce(function (idx) {\n    //console.log(\"setBackgroundImage(\", idx, \")\");\n    //console.log(\"setBackgroundImage time: \", (new Date).getTime());\n\n    var index = idx ? idx : sections.getSectionIndexFromScrollTop();\n\n    //var currentSlide = sections.$bgel.backstretch(\"current\");\n    //console.log(\"currentSlide: \", currentSlide);\n\n    //console.log(\"current section: \", sections.list[index].id);\n    //console.log(\"current bgimg: \", sections.list[index].bgimg);\n\n    sections.$bgel.backstretch(\"show\", index);\n    //}, 150, { maxWait: 1000, });\n  }, 150, { maxWait: 500 });\n\n  /*\n                             callbacks.scrollspyBootstrap = function(event) {\n                               //console.log(\"scrollspyBootstrap \", event);\n                                if (options.backgroundSizeBugBrowser) {\n                                 var $al = $('nav#nav-main .nav-item .nav-link.active');\n                                 //console.log(\"$al: \", $al);\n                                  var pidx = $al.parent().index();\n                                 //console.log(\"pidx: \", pidx);\n                                 \n                                 sections.setBackgroundImage(pidx);\n                               }\n                             };\n                             /*\n                             */\n\n\n\n  callbacks.scrollCallBack = function () {\n    if (options.backgroundSizeBugBrowser) {\n      sections.setBackgroundImage();\n    }\n  };\n\n  callbacks.scrollspyGumshoe = function (nav) {\n    //console.log(\"scrollspyGumshoe\");\n    //console.log(\"scrollspyGumshoe\", nav);\n\n    if (options.backgroundSizeBugBrowser) {\n      var target = nav.target;\n      var targetidx = $(target).index('section');\n\n      sections.setBackgroundImage(targetidx);\n    }\n  };\n\n  var api = {\n    init: init,\n    callbacks: callbacks,\n    adjustHeight: adjustHeight,\n    options: options,\n    sections: sections };\n\n\n  return api;\n}(jQuery, window, document);\n//})($, window, document);\n\nmodule.exports = App;\n","'use strict';\n\n//const $ = require('jquery');\n\n//const processBrowser = require('process/browser.js'); // for gumshoe, because it doesnt get pulled in from there\n//const gumshoe = require('gumshoejs/dist/js/gumshoe.js');\nvar gumshoe = require('gumshoejs');\n\nvar app = require('./application');\n\nvar Init = function ($, window, document) {\n\n  var init = function init() {\n    //console.log(\"Init.init()\");\n  };\n\n  var rdy = function rdy() {\n    //console.log(\"Init.rdy()\");\n\n    $('html').removeClass('no-js');\n\n    $(\"body a[href^='http://']\").attr(\"target\", \"_blank\");\n    $(\"body a[href^='https://']\").attr(\"target\", \"_blank\");\n\n    function collapseNavbar() {\n      //console.log(\"offset: \", $(\".navbar\").offset());\n      if ($(\".navbar\").offset().top > 50) {\n        $(\".navbar.fixed-top\").addClass(\"top-nav-collapse\");\n      } else {\n        $(\".navbar.fixed-top\").removeClass(\"top-nav-collapse\");\n      }\n    }\n\n    collapseNavbar();\n\n    app.init();\n    //console.log(app);\n\n    //$('body').scrollspy({ target: '#navbarSupportedContent' });\n    gumshoe.init({\n      callback: app.callbacks.scrollspyGumshoe });\n\n\n    /*** Events ***/\n    $(window).scroll(function () {\n      collapseNavbar();\n      app.callbacks.scrollCallBack();\n    });\n\n\n    // Closes the Responsive Menu on Menu Item Click\n    $('.navbar-collapse ul li a, .navbar-collapse button.close').click(function () {\n      //$(this).closest('.collapse').collapse('toggle');\n      $(this).closest('.collapse').collapse('hide');\n    });\n\n    // biographies, articles\n    $('.card .toggle').click(function (e) {\n      //console.log(\"event: \", e);\n      var $card = $(this).closest('.card');\n\n      var target = $card;\n      //console.log(\"target: \", target);\n      var objects_to_animate = $('html, body');\n\n      if (target.length) {\n        var scrollOffset = $(\"#nav-main\").height(); // header height\n        var scrollTop;\n        //const scrollTop = target.children('.card-block').offset().top - scrollOffset;\n\n        if ($card.hasClass('collapsed')) {\n          scrollTop = target.children('.card-block').offset().top - scrollOffset;\n        } else\n        {\n          scrollTop = $card.offset().top - scrollOffset - 16;\n        }\n        objects_to_animate.animate({\n          scrollTop: scrollTop },\n        {\n          duration: 500\n          //complete: () => {\n          //console.log(\"complete callback\");\n          //},\n        });\n\n        objects_to_animate.promise().done(function () {\n          //console.log(\"promise done callback\");\n          $card.toggleClass(\"collapsed\");\n        });\n      }\n      return false;\n    });\n  };\n\n  $(document).ready(rdy);\n  //$( document ).ready(function(){\n  //rdy();\n  //});\n  return {\n    init: init };\n\n}(jQuery, window, document);\n\nmodule.exports = Init;\n"]}